{% extends "gymapp/base.html" %}
{% block content %}
<h2 style="text-align: center; margin-bottom: 20px;">All Members</h2>
<div style="display: flex; justify-content: center; margin-top: 20px;">
  <table style="border-collapse: collapse; width: 90%; text-align: center; box-shadow: 0px 4px 10px rgba(0,0,0,0.2);">
    <thead style="background-color: #4CAF50; color: white;">
      <tr>
        <th style="padding: 12px;">Name</th>
        <th style="padding: 12px;">Email</th>
        <th style="padding: 12px;">Join Date</th>
        <th style="padding: 12px;">Plan</th>
        <th style="padding: 12px;">Trainer</th>
        <th style="padding: 12px;">Actions</th> <!-- ✅ New Column -->
      </tr>
    </thead>
    <tbody>
      {% for member in members %}
      <tr style="background-color: {% cycle '#f9f9f9' 'white' %};">
        <td style="padding: 12px;">{{ member.name }}</td>
        <td style="padding: 12px;">{{ member.email }}</td>
        <td style="padding: 12px;">{{ member.join_date }}</td>
        <td style="padding: 12px;">{{ member.plan.name }}</td>
        <td style="padding: 12px;">{{ member.trainer.name }}</td>
        
        <!-- ✅ Action Buttons -->
        <td style="padding: 12px;">
          <a href="{% url 'member_update' member.id %}" 
             style="padding: 6px 12px; background-color: #FFC107; color: white; border-radius: 4px; text-decoration: none; margin-right: 5px;">
             Edit
          </a>
          <form method="post" action="{% url 'member_delete' member.id %}" style="display:inline;">
            {% csrf_token %}
            <button type="submit" 
                    style="padding: 6px 12px; background-color: #F44336; color: white; border: none; border-radius: 4px; cursor: pointer;">
              Delete
            </button>
          </form>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" style="padding: 12px;">No members registered yet.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div style="text-align: center; margin-top: 20px;">
  <a href="{% url 'member_register' %}">
    <button style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
      Register Now
    </button>
  </a>
</div>
{% endblock %}






